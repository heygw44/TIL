> 컴퓨터 네트워크 하향식 접근 책을 읽고 정리한 내용입니다.

# Ch 1. Computer Networks and the Internet (컴퓨터 네트워크와 인터넷)

> 큰 흐름: **Internet (인터넷)** 은 전 세계의 **End System (종단 시스템, 호스트)** 들이 **Communication Link (통신 링크)** 와 **Packet Switch (패킷 스위치: 라우터/스위치)** 로 연결된 “network of networks (네트워크들의 네트워크)” 이다. 핵심은 **Packet Switching (패킷 교환)**, **Protocol (프로토콜)**, **Layered Architecture (계층 구조)** 로 복잡도를 제어하면서, 지연/손실/처리율 같은 성능 지표를 이해하고 **Security (보안)** 과 **Application 요구사항** 까지 함께 보는 것이다.

---

## 1. What Is the Internet? (인터넷이란?)

### 1.1 구성요소 관점 (nuts-and-bolts view)

* **Host / End System (호스트/종단 시스템)**: PC, 서버, 스마트폰, IoT 등 네트워크의 “끝단”.
* **Communication Link (통신 링크)**: 광섬유, 동축, 구리선, 무선 등. 링크의 전송률은 **Transmission Rate / Bandwidth (전송률/대역폭, bps)** 로 표현.
* **Packet Switch (패킷 스위치)**: **Router (라우터)**, **Link-layer Switch (링크 계층 스위치)**. 패킷을 받아 다음 홉으로 전달(**Forwarding**)하고 경로를 선택(**Routing**)한다.
* **Packet (패킷)**: 데이터가 네트워크를 이동할 때 쪼개지는 단위(헤더 + 페이로드).
* **ISP (Internet Service Provider, 인터넷 서비스 제공자)**: 가정/기업/모바일 사용자를 인터넷에 연결하고, ISP들끼리도 계층적으로 연결된다.

### 1.2 서비스 관점 (service view)

* 인터넷은 애플리케이션에 **Communication Service (통신 서비스)** 를 제공한다.
* 앱은 **Socket (소켓)** 을 통해 네트워크로 데이터를 주고받는다.
* 대표 서비스 모델:

  * **TCP (Transmission Control Protocol)**: 연결지향, 신뢰적 전달, 혼잡제어.
  * **UDP (User Datagram Protocol)**: 비연결, 단순/빠름, 신뢰성은 앱이 책임.

### 1.3 프로토콜이란? (What is a protocol?)

* **Protocol (프로토콜)**: 메시지 형식, 주고받는 순서, 이벤트 발생 시 동작을 규정.
* 사람이 인사 규칙을 따르듯, 네트워크도 프로토콜로 상호운용성을 확보한다.

---

## 2. Network Edge (네트워크의 가장자리)

### 2.1 Access Network (접속 네트워크)

* 사용자가 ISP에 붙는 “마지막 구간”.
* 예시:

  * **DSL (Digital Subscriber Line)**, **Cable (케이블)**, **FTTH (Fiber To The Home)**
  * **Ethernet (이더넷)**, **Wi-Fi**
  * **Cellular (셀룰러: 4G/5G)**

### 2.2 Physical Media (물리 매체)

* **Guided Media (유선 매체)**: 꼬임선, 동축, 광섬유
* **Unguided Media (무선 매체)**: 전파/마이크로웨이브/위성 등
* 매체 특성은 대역폭, 잡음, 감쇠, 간섭 등에 영향을 준다.

---

## 3. Network Core (네트워크의 중심)

### 3.1 Packet Switching (패킷 교환)

* 데이터를 패킷으로 쪼개 각 패킷이 네트워크를 통과.
* 라우터는 일반적으로 **Store-and-Forward (저장 후 전달)**: 한 링크로 들어온 패킷을 저장한 후 다음 링크로 송신.
* **Queueing (큐잉)**: 출력 링크가 바쁘면 버퍼에서 대기 → 지연 증가.
* **Loss (손실)**: 버퍼가 가득 차면 패킷 드롭.

### 3.2 Circuit Switching (회선 교환)과 비교

* **Circuit Switching (회선 교환)**: 통신 전에 자원을 예약(대역폭/타임슬롯). 지연 예측이 쉽지만 유휴 시간에도 자원을 점유 → 비효율 가능.
* **Packet Switching**: 통계적 다중화(**Statistical Multiplexing**)로 평균 효율이 높지만, 혼잡 시 지연/손실 변동이 커질 수 있다.

### 3.3 Delay, Loss, Throughput (지연/손실/처리율)

* 노드에서의 지연 구성:

  * **Processing Delay (처리 지연)**: 헤더 검사, 오류 체크 등
  * **Queueing Delay (큐잉 지연)**: 버퍼 대기
  * **Transmission Delay (전송 지연)**: 패킷을 링크에 “밀어 넣는” 시간 = `L/R` (L=비트 길이, R=전송률)
  * **Propagation Delay (전파 지연)**: 신호가 매체를 따라 이동 = `d/s` (d=거리, s=전파속도)
* **End-to-End Delay (종단간 지연)**: 위 요소들의 합(경로상의 여러 홉 포함).
* **Throughput (처리율)**:

  * **Instantaneous Throughput (순간 처리율)** vs **Average Throughput (평균 처리율)**
  * 전체 경로는 보통 **Bottleneck Link (병목 링크)** 가 처리율을 제한.

---

## 4. Protocol Layers and Service Models (프로토콜 계층과 서비스 모델)

### 4.1 Layering (계층화)의 목적

* 복잡한 시스템을 계층으로 나눠 **모듈화**, **표준화**, **교체 용이성** 확보.
* 각 계층은 아래 계층의 서비스를 이용하고, 위 계층에 서비스를 제공한다.

### 4.2 Internet Protocol Stack (인터넷 5계층 스택)

* **Application Layer (응용 계층)**: HTTP, DNS, SMTP 등
* **Transport Layer (전송 계층)**: TCP, UDP
* **Network Layer (네트워크 계층)**: IP, 라우팅
* **Link Layer (링크 계층)**: Ethernet, Wi-Fi, LTE 링크 등
* **Physical Layer (물리 계층)**: 비트 신호 전송

### 4.3 Encapsulation (캡슐화)

* 상위 계층 데이터에 하위 계층 헤더(그리고 경우에 따라 트레일러)가 붙으며 내려감.
* 수신 측에서는 역순으로 헤더를 벗기며(**Decapsulation**) 처리.

### 4.4 OSI Model (OSI 7계층)과의 관계

* OSI는 7계층 참조모델(표현/세션 포함)로 교육적 의미가 크고,
* 실제 인터넷은 5계층 스택 중심으로 설명하는 경우가 많다.

---

## 5. Networks Under Attack (공격받는 네트워크)

### 5.1 대표 공격/위협

* **Malware (악성코드)**: 바이러스, 웜, 트로이목마, 랜섬웨어 등
* **DoS/DDoS (서비스 거부 공격)**: 대량 트래픽/요청으로 서비스 마비
* **Packet Sniffing (패킷 도청)**: 공유 매체/취약 구간에서 트래픽 엿보기
* **IP Spoofing (IP 스푸핑)**: 출발지 주소 위조

### 5.2 방어의 큰 방향

* **Authentication (인증)**, **Confidentiality (기밀성: 암호화)**, **Integrity (무결성)**, **Availability (가용성)**
* 네트워크는 “처음부터 신뢰”가 아니라, 설계/운영 전반에서 보안을 고려해야 한다.

---

## 6. Summary (요약)

* 인터넷은 **호스트-링크-라우터-ISP** 로 이루어진 거대한 **네트워크들의 네트워크**이며, **프로토콜**로 동작한다.
* **패킷 교환**은 통계적 다중화로 효율적이지만 혼잡 시 **지연/손실**이 발생한다(회선 교환과 대비).
* 성능은 **처리/큐잉/전송/전파 지연**, **손실**, **처리율(병목)** 로 분석한다.
* **계층 구조(5계층)** 와 **캡슐화** 는 복잡도를 낮추고 상호운용성을 만든다.
* 현실의 인터넷은 항상 공격 표면을 가지므로, 기본 위협(DoS, 스니핑, 스푸핑, 멀웨어)을 알고 방어 목표를 이해해야 한다.
